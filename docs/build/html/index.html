

<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Welcome to Trivia API’s documentation! &#8212; Trivia API 1.0 documentation</title>
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">Trivia API 1.0 documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="#">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Welcome to Trivia API’s documentation!</a></li>
<li><a class="reference internal" href="#instalation-and-overview">Instalation and Overview</a><ul>
<li><a class="reference internal" href="#introduction-to-the-full-stack-trivia-api">Introduction to the Full Stack Trivia API</a></li>
<li><a class="reference internal" href="#getting-started-backend">Getting Started - Backend</a><ul>
<li><a class="reference internal" href="#installing-dependencies">Installing Dependencies</a><ul>
<li><a class="reference internal" href="#key-dependencies">Key Dependencies</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#database-setup">Database Setup</a></li>
<li><a class="reference internal" href="#running-the-server">Running the server</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a><ul>
<li><a class="reference internal" href="#opening-the-api-documentation">Opening the API Documentation</a></li>
</ul>
</li>
<li><a class="reference internal" href="#api-end-points">API End Points</a></li>
<li><a class="reference internal" href="#error-handling">Error Handling</a></li>
<li><a class="reference internal" href="#testing">Testing</a></li>
<li><a class="reference internal" href="#full-stack-trivia-api-frontend">Full Stack Trivia API Frontend</a></li>
<li><a class="reference internal" href="#running-your-frontend-in-dev-mode">Running Your Frontend in Dev Mode</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-controller">Triva API Controllers</a><ul>
<li><a class="reference internal" href="#introduction"><strong>Introduction</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-models">Triva API Models</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="welcome-to-trivia-api-s-documentation">
<h1>Welcome to Trivia API’s documentation!<a class="headerlink" href="#welcome-to-trivia-api-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="instalation-and-overview">
<h1>Instalation and Overview<a class="headerlink" href="#instalation-and-overview" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction-to-the-full-stack-trivia-api">
<h2>Introduction to the Full Stack Trivia API<a class="headerlink" href="#introduction-to-the-full-stack-trivia-api" title="Permalink to this headline">¶</a></h2>
<p>The Trivia application is a web-based app that allows for the playing of trivia games.</p>
<p>The application:</p>
<ol class="arabic simple">
<li><p>Display questions - both all questions and by category. Questions show the question, category, and difficulty rating by default and can show/hide the answer.</p></li>
<li><p>Delete questions.</p></li>
<li><p>Add questions and require that they include a question and answer text.</p></li>
<li><p>Search for questions based on a text query string.</p></li>
<li><p>Play the quiz game, randomizing either all questions or within a specific category.</p></li>
</ol>
</div>
<div class="section" id="getting-started-backend">
<h2>Getting Started - Backend<a class="headerlink" href="#getting-started-backend" title="Permalink to this headline">¶</a></h2>
<div class="section" id="installing-dependencies">
<h3>Installing Dependencies<a class="headerlink" href="#installing-dependencies" title="Permalink to this headline">¶</a></h3>
<p>Python 3.7</p>
<blockquote>
<div><p>This project uses python 3.7.</p>
<p>To Install: <a class="reference external" href="https://docs.python.org/3/using/unix.html#getting-and-installing-the-latest-version-of-python">Python</a></p>
</div></blockquote>
<p>Once you have your virtual environment setup and running, install dependencies by navigating to the root directory and running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install -r requirements.txt
</pre></div>
</div>
<p>This will install all of the required packages we selected within the <code class="docutils literal notranslate"><span class="pre">requirements.txt</span></code> file.</p>
<div class="section" id="key-dependencies">
<h4>Key Dependencies<a class="headerlink" href="#key-dependencies" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><a class="reference external" href="http://flask.pocoo.org/">Flask</a>  is a lightweight backend microservices framework.</p></li>
<li><p><a class="reference external" href="https://www.sqlalchemy.org/">SQLAlchemy</a> is the Python SQL toolkit and ORM.</p></li>
<li><p><a class="reference external" href="https://flask-cors.readthedocs.io/en/latest/#">Flask-CORS</a> is the extension used to handle cross-origin requests from the frontend server.</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="database-setup">
<h2>Database Setup<a class="headerlink" href="#database-setup" title="Permalink to this headline">¶</a></h2>
<p>With Postgres running, populate the database using the trivia.psql file provided. From the backend folder in terminal run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>psql trivia &lt; trivia.psql
</pre></div>
</div>
</div>
<div class="section" id="running-the-server">
<h2>Running the server<a class="headerlink" href="#running-the-server" title="Permalink to this headline">¶</a></h2>
<p>From within the <code class="docutils literal notranslate"><span class="pre">backend</span></code> directory to run the server, execute:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">FLASK_APP</span><span class="o">=</span>flaskr
<span class="nb">export</span> <span class="nv">FLASK_ENV</span><span class="o">=</span>development
flask run
</pre></div>
</div>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="opening-the-api-documentation">
<h3>Opening the API Documentation<a class="headerlink" href="#opening-the-api-documentation" title="Permalink to this headline">¶</a></h3>
<p>Documentation is generated with Sphinx.</p>
<blockquote>
<div><p>From the root folder, open the index file in a browser</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>./docs/build/html/index.html
</pre></div>
</div>
<p>The PDF version of the documentation is located in the root project directory. Named triciaapi.pdf</p>
<p>Documentation is generated with Sphinx.</p>
<p>To install Sphinx, reference the documents at <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/installation.html">https://www.sphinx-doc.org/en/master/usage/installation.html</a></p>
<p>For example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install -U sphinx
</pre></div>
</div>
<p>Install dependencies by navigating to the <code class="docutils literal notranslate"><span class="pre">root</span></code> project directory and running:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> docs
pip install m2r
pip install recommonmark
pip install rinohtype
pip install -r requirements.txt
</pre></div>
</div>
<p>Generate the documentation with the following commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># From the root project directory</span>
<span class="c1"># Convert readme to rst to be included in generated docs</span>
m2r README.md README.rst --overwrite
cp -R README.rst ./docs/source
<span class="nb">cd</span> ./docs
make html
<span class="c1"># Make pdf</span>
make latexpdf
<span class="nb">cd</span> ..
cp -R ./docs/build/latex/triviaapi.pdf .
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="api-end-points">
<h2>API End Points<a class="headerlink" href="#api-end-points" title="Permalink to this headline">¶</a></h2>
<p>The following APIs are available. Detailed html documentation can be found in the ‘docs’ folder.</p>
<ul class="simple">
<li><p>Create or Search Questions. This API will create a new question or search questions.</p></li>
<li><p>Retrieve Questions. This API will retrieve a page of 10 trivia questions sorted by question_id.</p></li>
<li><p>Delete Question. This API will delete a question from the database.</p></li>
<li><p>Retrieve Category. This API will retrieve a list of trivia categories.</p></li>
<li><p>Retrieve Category Questions. This API will retrieve a list of questions by category Id.</p></li>
<li><p>Quiz. This API will play the quiz. Presenting a random, non-repeated question in the category.</p></li>
</ul>
</div>
<div class="section" id="error-handling">
<h2>Error Handling<a class="headerlink" href="#error-handling" title="Permalink to this headline">¶</a></h2>
<p>Errors are returned as JSON objects in the following format:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">{</span>
    <span class="s2">&quot;success&quot;</span>: False,
    <span class="s2">&quot;error&quot;</span>: <span class="m">400</span>,
    <span class="s2">&quot;message&quot;</span>: <span class="s2">&quot;Bad Request&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The API will return three error types when requests fail:</p>
<ul class="simple">
<li><p>400: Bad Request</p></li>
<li><p>404: Resource Not Found</p></li>
<li><p>405: Method Not Allowed</p></li>
<li><p>422: Not Processable</p></li>
<li><p>500: Internal Server Error</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>Testing is done with UnitTest</p>
<p>From the trivia/backend folder. Run:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>. ./test.sh
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="full-stack-trivia-api-frontend">
<h2>Full Stack Trivia API Frontend<a class="headerlink" href="#full-stack-trivia-api-frontend" title="Permalink to this headline">¶</a></h2>
<p>This project depends on Nodejs and Node Package Manager (NPM). Before continuing, you must download and install Node (the download includes NPM) from <a class="reference external" href="https://nodejs.org/en/download/">https://nodejs.com/en/download</a>.</p>
<p>This project uses NPM to manage software dependencies. NPM Relies on the package.json file located in the <code class="docutils literal notranslate"><span class="pre">frontend</span></code> directory of this repository. After cloning, open your terminal and run:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>npm install
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="running-your-frontend-in-dev-mode">
<h2>Running Your Frontend in Dev Mode<a class="headerlink" href="#running-your-frontend-in-dev-mode" title="Permalink to this headline">¶</a></h2>
<p>The frontend app was built using create-react-app. To run the app in development mode use <code class="docutils literal notranslate"><span class="pre">npm</span> <span class="pre">start</span></code>. You can change the script in the <code class="docutils literal notranslate"><span class="pre">package.json</span></code> file.</p>
<p>Open <a class="reference external" href="http://localhost:3000">http://localhost:3000</a> to view it in the browser. The page will reload if you make edits.<span class="raw-html-m2r"><br></span></p>
</div>
</div>
<div class="section" id="module-controller">
<span id="triva-api-controllers"></span><h1>Triva API Controllers<a class="headerlink" href="#module-controller" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2><strong>Introduction</strong><a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The Trivia API includes multiple REST methods. 
These methods are to create, list, and search questions as well as perform operations
to list by category and search. The Quizzes API is for playing the game.</p>
<ul class="simple">
<li><p>Create or Search Questions. This API will create a new question or search questions.</p></li>
<li><p>Retrieve Questions. This API will retrieve a page of 10 trivia questions sorted by question_id.</p></li>
<li><p>Delete Question. This API will delete a question from the database.</p></li>
<li><p>Retrieve Category. This API will retrieve a list of trivia categories.</p></li>
<li><p>Retrieve Category Questions. This API will retrieve a list of questions by category Id.</p></li>
<li><p>Play Quiz. This API will play the quiz. Presenting a random, non-repeated question in the category.</p></li>
</ul>
<dl class="function">
<dt id="controller.create_or_search_question">
<code class="sig-prename descclassname">controller.</code><code class="sig-name descname">create_or_search_question</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#controller.create_or_search_question" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Create or Search Questions</strong></p>
<p>This API will create a new question or search questions.</p>
<p><strong>Create a new question</strong></p>
<ul>
<li><p>Sample Call create question:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">5000</span><span class="o">/</span><span class="n">questions</span> 
     <span class="o">-</span><span class="n">H</span> <span class="s1">&#39;content-type: application/json&#39;</span> 
     <span class="o">-</span><span class="n">d</span> <span class="s1">&#39;{&quot;question&quot;:&quot;One plus one is&quot;,&quot;answer&quot;:&quot;2&quot;,&quot;difficulty&quot;:1,&quot;category&quot;:1}&#39;</span>
</pre></div>
</div>
</li>
<li><p>Expected Success Response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span> <span class="n">Status</span> <span class="n">Code</span><span class="p">:</span> <span class="mi">200</span>

<span class="p">{</span>
 <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Expected Fail Response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span> <span class="n">Status</span> <span class="n">Code</span><span class="p">:</span> <span class="mi">404</span>
<span class="p">{</span>
    <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> 
    <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="mi">404</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;resource not found&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
<p><strong>Search Questions</strong></p>
<ul>
<li><p>Sample Call search question:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">5000</span><span class="o">/</span><span class="n">questions</span> 
     <span class="o">-</span><span class="n">H</span> <span class="s1">&#39;content-type: application/json&#39;</span> 
     <span class="o">-</span><span class="n">d</span> <span class="s1">&#39;{&quot;searchTerm&quot;:&quot;Anne&quot;}&#39;</span>
</pre></div>
</div>
</li>
<li><p>Expected Success Response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span> <span class="n">Status</span> <span class="n">Code</span><span class="p">:</span> <span class="mi">200</span>
<span class="p">{</span>
 <span class="s2">&quot;questions&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
    <span class="s2">&quot;answer&quot;</span><span class="p">:</span> <span class="s2">&quot;Tom Cruise&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> 
    <span class="s2">&quot;difficulty&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> 
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> 
    <span class="s2">&quot;question&quot;</span><span class="p">:</span> <span class="s2">&quot;What actor did author Anne Rice first denounce, then praise in the role of her beloved Lestat?&quot;</span>
    <span class="p">}</span>
 <span class="p">],</span> 
 <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span> 
 <span class="s2">&quot;total_questions&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Search not found:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span> <span class="n">Status</span> <span class="n">Code</span><span class="p">:</span> <span class="mi">200</span>

<span class="p">{</span>
 <span class="s2">&quot;questions&quot;</span><span class="p">:</span> <span class="p">[],</span> 
 <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span> 
 <span class="s2">&quot;total_questions&quot;</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="controller.retrieve_questions">
<code class="sig-prename descclassname">controller.</code><code class="sig-name descname">retrieve_questions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#controller.retrieve_questions" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Retrieve API Questions</strong></p>
<p>This API will retrieve a page of 10 trivia questions sorted by question_id. 
Pages are designated by the ‘page’ url parameter.</p>
<ul>
<li><p>Sample Call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>curl -X GET http://localhost:5000/questions?page=1 
     -H &#39;content-type: application/json&#39;
</pre></div>
</div>
</li>
<li><p>Expected Success Response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span> <span class="n">Status</span> <span class="n">Code</span><span class="p">:</span> <span class="mi">200</span>

<span class="p">{</span>
    <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;Science&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;Art&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;Geography&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;History&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;Entertainment&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;Sports&quot;</span>
    <span class="p">],</span> 
    <span class="s2">&quot;current_category&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> 
    <span class="s2">&quot;questions&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
        <span class="s2">&quot;answer&quot;</span><span class="p">:</span> <span class="s2">&quot;Apollo 13&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> 
        <span class="s2">&quot;difficulty&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> 
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> 
        <span class="s2">&quot;question&quot;</span><span class="p">:</span> <span class="s2">&quot;What movie earned Tom Hanks his third straight Oscar nomination, in 1996?&quot;</span>
        <span class="p">},</span> 
        <span class="p">{</span>
        <span class="s2">&quot;answer&quot;</span><span class="p">:</span> <span class="s2">&quot;The Palace of Versailles&quot;</span><span class="p">,</span> 
        <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> 
        <span class="s2">&quot;difficulty&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> 
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span> 
        <span class="s2">&quot;question&quot;</span><span class="p">:</span> <span class="s2">&quot;In which royal palace would you find the Hall of Mirrors?&quot;</span>
        <span class="p">}</span>
    <span class="p">],</span> 
    <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span> 
    <span class="s2">&quot;total_questions&quot;</span><span class="p">:</span> <span class="mi">20</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Expected Fail Response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span> <span class="n">Status</span> <span class="n">Code</span><span class="p">:</span> <span class="mi">404</span>
<span class="p">{</span>
    <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> 
    <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="mi">404</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;resource not found&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="controller.delete_question">
<code class="sig-prename descclassname">controller.</code><code class="sig-name descname">delete_question</code><span class="sig-paren">(</span><em class="sig-param">question_id</em><span class="sig-paren">)</span><a class="headerlink" href="#controller.delete_question" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Delete a Question from the database</strong></p>
<p>This API will delete a question from the database.</p>
<ul>
<li><p>Sample Call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">DELETE</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">5000</span><span class="o">/</span><span class="n">questions</span><span class="o">/</span><span class="mi">2</span> 
     <span class="o">-</span><span class="n">H</span> <span class="s1">&#39;content-type: application/json&#39;</span>
</pre></div>
</div>
</li>
<li><p>Expected Success Response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span> <span class="n">Status</span> <span class="n">Code</span><span class="p">:</span> <span class="mi">200</span>
<span class="p">{</span>
    <span class="s2">&quot;deleted&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> 
    <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Expected Fail Response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span> <span class="n">Status</span> <span class="n">Code</span><span class="p">:</span> <span class="mi">422</span>
<span class="p">{</span>
 <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="mi">422</span><span class="p">,</span> 
 <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;unprocessable&quot;</span><span class="p">,</span> 
 <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">false</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="controller.retrieve_category">
<code class="sig-prename descclassname">controller.</code><code class="sig-name descname">retrieve_category</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#controller.retrieve_category" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Retrieve Trivia Categories</strong></p>
<p>This API will retrive a list of trivia categories.</p>
<ul>
<li><p>Sample Call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">GET</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">5000</span><span class="o">/</span><span class="n">categories</span> 
     <span class="o">-</span><span class="n">H</span> <span class="s1">&#39;content-type: application/json&#39;</span>
</pre></div>
</div>
</li>
<li><p>Expected Success Response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span> <span class="n">Status</span> <span class="n">Code</span><span class="p">:</span> <span class="mi">200</span>

<span class="p">{</span>
    <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="p">[</span>
                    <span class="s2">&quot;Science&quot;</span><span class="p">,</span> 
                    <span class="s2">&quot;Art&quot;</span><span class="p">,</span> 
                    <span class="s2">&quot;Geography&quot;</span><span class="p">,</span> 
                    <span class="s2">&quot;History&quot;</span><span class="p">,</span> 
                    <span class="s2">&quot;Entertainment&quot;</span><span class="p">,</span> 
                    <span class="s2">&quot;Sports&quot;</span>
                    <span class="p">],</span> 
    <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span> 
    <span class="s2">&quot;total_categories&quot;</span><span class="p">:</span> <span class="mi">6</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Expected Fail Response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span> <span class="n">Status</span> <span class="n">Code</span><span class="p">:</span> <span class="mi">404</span>
<span class="p">{</span>
    <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> 
    <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="mi">404</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;resource not found&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="controller.retrieve_category_questions">
<code class="sig-prename descclassname">controller.</code><code class="sig-name descname">retrieve_category_questions</code><span class="sig-paren">(</span><em class="sig-param">category_id</em><span class="sig-paren">)</span><a class="headerlink" href="#controller.retrieve_category_questions" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Retrieve Category Questions</strong></p>
<p>This API will retrieve a list of questions by category Id.</p>
<ul>
<li><p>Sample Call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">GET</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">5000</span><span class="o">/</span><span class="n">categories</span><span class="o">/</span><span class="mi">1</span><span class="o">/</span><span class="n">questions</span> 
     <span class="o">-</span><span class="n">H</span> <span class="s1">&#39;content-type: application/json&#39;</span>
</pre></div>
</div>
</li>
<li><p>Expected Success Response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span> <span class="n">Status</span> <span class="n">Code</span><span class="p">:</span> <span class="mi">200</span>

<span class="p">{</span>
<span class="s2">&quot;current_category&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> 
<span class="s2">&quot;questions&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
    <span class="s2">&quot;answer&quot;</span><span class="p">:</span> <span class="s2">&quot;Escher&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> 
    <span class="s2">&quot;difficulty&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> 
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span> 
    <span class="s2">&quot;question&quot;</span><span class="p">:</span> <span class="s2">&quot;Which Dutch graphic artist–initials M C was a creator of optical illusions?&quot;</span>
    <span class="p">},</span> 
    <span class="p">{</span>
    <span class="s2">&quot;answer&quot;</span><span class="p">:</span> <span class="s2">&quot;Jackson Pollock&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> 
    <span class="s2">&quot;difficulty&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> 
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">19</span><span class="p">,</span> 
    <span class="s2">&quot;question&quot;</span><span class="p">:</span> <span class="s2">&quot;Which American artist was a pioneer of Abstract Expressionism, and a leading exponent of action painting?&quot;</span>
    <span class="p">}</span>
<span class="p">],</span> 
<span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span> 
<span class="s2">&quot;total_questions&quot;</span><span class="p">:</span> <span class="mi">24</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Expected Fail Response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span> <span class="n">Status</span> <span class="n">Code</span><span class="p">:</span> <span class="mi">404</span>
<span class="p">{</span>
    <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> 
    <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="mi">404</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;resource not found&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="controller.quizzes">
<code class="sig-prename descclassname">controller.</code><code class="sig-name descname">quizzes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#controller.quizzes" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Play Quiz</strong></p>
<p>This API will play the quiz. Presenting a random, non-repeated question in the category</p>
<ul>
<li><p>Sample Call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">X</span> <span class="n">POST</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">localhost</span><span class="p">:</span><span class="mi">5000</span><span class="o">/</span><span class="n">quizzes</span> 
     <span class="o">-</span><span class="n">H</span> <span class="s1">&#39;content-type: application/json&#39;</span> 
     <span class="o">-</span><span class="n">d</span> <span class="s1">&#39;{&quot;previous_questions&quot;:[],&quot;quiz_category&quot;:{&quot;type&quot;:&quot;Science&quot;,&quot;id&quot;:&quot;0&quot;}}&#39;</span>
</pre></div>
</div>
</li>
<li><p>Expected Success Response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span> <span class="n">Status</span> <span class="n">Code</span><span class="p">:</span> <span class="mi">200</span>

<span class="p">{</span>
<span class="s2">&quot;question&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;answer&quot;</span><span class="p">:</span> <span class="s2">&quot;The Liver&quot;</span><span class="p">,</span> 
    <span class="s2">&quot;category&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> 
    <span class="s2">&quot;difficulty&quot;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> 
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> 
    <span class="s2">&quot;question&quot;</span><span class="p">:</span> <span class="s2">&quot;What is the heaviest organ in the human body?&quot;</span>
<span class="p">},</span> 
<span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Expected Fail Response:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span> <span class="n">Status</span> <span class="n">Code</span><span class="p">:</span> <span class="mi">404</span>
<span class="p">{</span>
    <span class="s2">&quot;success&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span> 
    <span class="s2">&quot;error&quot;</span><span class="p">:</span> <span class="mi">404</span><span class="p">,</span>
    <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="s2">&quot;resource not found&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</dd></dl>

</div>
</div>
<div class="section" id="module-models">
<span id="triva-api-models"></span><h1>Triva API Models<a class="headerlink" href="#module-models" title="Permalink to this headline">¶</a></h1>
<p><strong>Introduction</strong></p>
<p>The Trivia app includes two sql Alchemy classes used manage the trivia questions and categories</p>
<ul class="simple">
<li><p>Questions: List of questions and anssers</p></li>
<li><p>Categories: List of categories for the questions</p></li>
</ul>
<dl class="class">
<dt id="models.Question">
<em class="property">class </em><code class="sig-prename descclassname">models.</code><code class="sig-name descname">Question</code><span class="sig-paren">(</span><em class="sig-param">request_json</em><span class="sig-paren">)</span><a class="headerlink" href="#models.Question" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is the model for each question plus the support CRUD operations</p>
<dl class="attribute">
<dt id="models.Question.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#models.Question.id" title="Permalink to this definition">¶</a></dt>
<dd><p><em>id</em> is the auto assigned primary key
Type: Integer, Primary key. Required.</p>
</dd></dl>

<dl class="attribute">
<dt id="models.Question.question">
<code class="sig-name descname">question</code><a class="headerlink" href="#models.Question.question" title="Permalink to this definition">¶</a></dt>
<dd><p><em>question</em> is the question to be presented to the trivia players
Type: String, Required.</p>
</dd></dl>

<dl class="attribute">
<dt id="models.Question.answer">
<code class="sig-name descname">answer</code><a class="headerlink" href="#models.Question.answer" title="Permalink to this definition">¶</a></dt>
<dd><p><em>answer</em> the answer to the trivia question
Type: String, Required.</p>
</dd></dl>

<dl class="attribute">
<dt id="models.Question.category">
<code class="sig-name descname">category</code><a class="headerlink" href="#models.Question.category" title="Permalink to this definition">¶</a></dt>
<dd><p><em>category</em> is the question category
Type: String, but respresented as an Integer and is the Forigen key of Category. Required.</p>
</dd></dl>

<dl class="attribute">
<dt id="models.Question.difficulty">
<code class="sig-name descname">difficulty</code><a class="headerlink" href="#models.Question.difficulty" title="Permalink to this definition">¶</a></dt>
<dd><p><em>difficulty</em> is the difficulty level of the question
Type: Integer, Required.</p>
</dd></dl>

<dl class="method">
<dt id="models.Question.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#models.Question.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the Question object, as a row, into the trivia database</p>
</dd></dl>

<dl class="method">
<dt id="models.Question.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#models.Question.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the Question object with any changes</p>
</dd></dl>

<dl class="method">
<dt id="models.Question.delete">
<code class="sig-name descname">delete</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#models.Question.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the Question object from the trivia database</p>
</dd></dl>

<dl class="method">
<dt id="models.Question.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#models.Question.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Question record object as a Python Dictionary</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="models.Category">
<em class="property">class </em><code class="sig-prename descclassname">models.</code><code class="sig-name descname">Category</code><span class="sig-paren">(</span><em class="sig-param">type</em><span class="sig-paren">)</span><a class="headerlink" href="#models.Category" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is the model for the list of tricia categories</p>
<dl class="attribute">
<dt id="models.Category.id">
<code class="sig-name descname">id</code><a class="headerlink" href="#models.Category.id" title="Permalink to this definition">¶</a></dt>
<dd><p><em>id</em> is the auto assigned primary key
Type: Integer, Primary key. Required.</p>
</dd></dl>

<dl class="attribute">
<dt id="models.Category.type">
<code class="sig-name descname">type</code><a class="headerlink" href="#models.Category.type" title="Permalink to this definition">¶</a></dt>
<dd><p><em>type</em> is the question category name
Type: String. Required.</p>
</dd></dl>

<dl class="method">
<dt id="models.Category.format">
<code class="sig-name descname">format</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#models.Category.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the category record object formatted as a Python Dictionary</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">Trivia API 1.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Scott R Smith.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
  </body>
</html>